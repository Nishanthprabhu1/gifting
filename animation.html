<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    
    <style>
        body { margin: 0; overflow: hidden; }
        .a-enter-vr, .a-enter-ar { display: none !important; }
        
        /* Premium Back Button */
        .back-nav {
            position: absolute; top: 20px; left: 20px; z-index: 200;
            color: #D4AF37; text-decoration: none; background: rgba(0,0,0,0.7);
            padding: 10px 20px; border-radius: 50px; font-family: 'Poppins', sans-serif;
            font-size: 12px; border: 1px solid #D4AF37; letter-spacing: 1px;
        }

        /* Instructions */
        #hint {
            position: absolute; bottom: 30px; width: 100%; text-align: center;
            color: #D4AF37; font-family: 'Poppins', sans-serif; z-index: 100;
            display: none; text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>

    <a href="index.html" class="back-nav">üè† MENU</a>
    <div id="hint">‚ú® Scanning your message... ‚ú®</div>

    <a-scene 
        mindar-image="imageTargetSrc: ./targets.mind; targetIndex: 2;" 
        vr-mode-ui="enabled: false" 
        device-orientation-permission-ui="enabled: false">
        
        <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

        <a-entity mindar-image-target="targetIndex: 2" id="text-target">
            
            <a-entity position="0 0.1 0" animation="property: position; to: 0 0.2 0; dur: 2000; dir: alternate; loop: true; easing: easeInOutSine">
                
                <a-plane width="1.6" height="1" position="0 0 -0.01" 
                         material="color: #1a1a1a; opacity: 0.8; transparent: true; metalness: 0.5; roughness: 0.2">
                </a-plane>

                <a-rect width="1.62" height="1.02" position="0 0 -0.02" color="#D4AF37"></a-rect>

                <a-text value="A Special Message" 
                        position="0 0.35 0.05" 
                        align="center" 
                        color="#D4AF37" 
                        width="3"
                        font="https://cdn.aframe.io/fonts/Exo2Bold.fnt">
                </a-text>

                <a-text 
                    id="main-message"
                    value="" 
                    color="#FFFFFF" 
                    align="center" 
                    width="1.4" 
                    wrap-count="28"
                    line-height="50"
                    position="0 -0.05 0.05"
                    font="https://cdn.aframe.io/fonts/Exo2SemiBold.fnt">
                </a-text>

                <a-text value="With Love, Jewels-AI" 
                        position="0 -0.35 0.05" 
                        align="center" 
                        color="#D4AF37" 
                        width="1.5">
                </a-text>

            </a-entity>

            <a-entity position="0 0 0" animation="property: rotation; to: 0 360 0; dur: 15000; loop: true; easing: linear">
                <a-entity geometry="primitive: sphere; radius: 0.01" material="color: #D4AF37; emissive: #D4AF37; emissiveIntensity: 2" position="1 0.5 0"></a-entity>
                <a-entity geometry="primitive: sphere; radius: 0.01" material="color: #FFF; emissive: #FFF; emissiveIntensity: 2" position="-1 -0.5 0.3"></a-entity>
            </a-entity>

        </a-entity>
    </a-scene>

    <script>
        const target = document.querySelector('#text-target');
        const messageEl = document.querySelector('#main-message');
        const hint = document.querySelector('#hint');

        // Your 20-30 word message
        const fullText = "May your day be as bright as your smile and as lovely as your heart. This is a special moment captured just for you. Wishing you endless happiness and a year full of wonders! Happy Birthday!";

        let charIndex = 0;
        let isTyping = false;

        target.addEventListener('targetFound', () => {
            hint.style.display = 'block';
            if (!isTyping) {
                typeWriter();
            }
        });

        target.addEventListener('targetLost', () => {
            hint.style.display = 'none';
        });

        function typeWriter() {
            isTyping = true;
            if (charIndex < fullText.length) {
                messageEl.setAttribute('value', fullText.substring(0, charIndex + 1));
                charIndex++;
                setTimeout(typeWriter, 50); // Speed of typing
            }
        }
    </script>
</body>
</html>
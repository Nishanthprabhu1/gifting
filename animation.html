<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <style>
        body { margin: 0; overflow: hidden; font-family: 'Poppins', sans-serif; }
        .a-enter-vr, .a-enter-ar { display: none !important; }
        .back-nav {
            position: absolute; top: 20px; left: 20px; z-index: 200;
            color: #D4AF37; text-decoration: none; background: rgba(0,0,0,0.8);
            padding: 10px 20px; border-radius: 50px; font-size: 12px;
            border: 1px solid #D4AF37;
        }
    </style>
</head>
<body>

    <a href="index.html" class="back-nav">üè† MENU</a>

    <a-scene 
        mindar-image="imageTargetSrc: ./targets.mind; targetIndex: 2;" 
        vr-mode-ui="enabled: false" 
        device-orientation-permission-ui="enabled: false">
        
        <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

        <a-entity mindar-image-target="targetIndex: 2" id="text-target">
            
            <a-entity id="orbit-container" position="0 0 0" scale="0 0 0"
                      animation__rotate="property: rotation; to: 0 360 0; dur: 20000; loop: true; easing: linear"
                      animation__float="property: position; from: 0 -0.05 0; to: 0 0.05 0; dur: 3000; dir: alternate; loop: true; easing: easeInOutSine"
                      animation__pop="property: scale; from: 0 0 0; to: 1 1 1; dur: 1200; easing: easeOutBack; startEvents: targetFound">
                
                <a-entity position="0 0 0.6">
                    <a-text value="Happy Birthday! Wishing you endless happiness, joy, and a year full of wonders! Captured with love just for you." 
                            color="#000" align="center" width="1.2" wrap-count="25" position="0.005 -0.005 -0.01"></a-text>
                    <a-text value="Happy Birthday! Wishing you endless happiness, joy, and a year full of wonders! Captured with love just for you." 
                            color="#FFF" align="center" width="1.2" wrap-count="25"></a-text>
                </a-entity>

                <a-entity position="0 0 -0.6" rotation="0 180 0">
                    <a-text value="May your day be as bright as your smile. A special moment for a special person." 
                            color="#000" align="center" width="1.2" wrap-count="25" position="0.005 -0.005 -0.01"></a-text>
                    <a-text value="May your day be as bright as your smile. A special moment for a special person." 
                            color="#FFF" align="center" width="1.2" wrap-count="25"></a-text>
                </a-entity>

                <a-entity position="0.6 0 0" rotation="0 90 0">
                    <a-text value="Enjoy your gift! Scan more for surprises." 
                            color="#000" align="center" width="1" wrap-count="20" position="0.005 -0.005 -0.01"></a-text>
                    <a-text value="Enjoy your gift! Scan more for surprises." 
                            color="#FFF" align="center" width="1" wrap-count="20"></a-text>
                </a-entity>

                <a-entity position="-0.6 0 0" rotation="0 -90 0">
                    <a-text value="Jewels-AI: Making memories magical." 
                            color="#000" align="center" width="1" wrap-count="20" position="0.005 -0.005 -0.01"></a-text>
                    <a-text value="Jewels-AI: Making memories magical." 
                            color="#FFF" align="center" width="1" wrap-count="20"></a-text>
                </a-entity>

                <a-ring color="#D4AF37" radius-inner="0.59" radius-outer="0.6" rotation="90 0 0" opacity="0.5"></a-ring>

            </a-entity>

        </a-entity>
    </a-scene>

    <script>
        const target = document.querySelector('#text-target');
        const orbitContainer = document.querySelector('#orbit-container');

        target.addEventListener('targetFound', () => {
            orbitContainer.emit('targetFound'); 
        });

        target.addEventListener('targetLost', () => {
            // Smoothly shrink away when lost
            orbitContainer.setAttribute('scale', '0 0 0'); 
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <style>
        body { margin: 0; overflow: hidden; font-family: 'Poppins', sans-serif; }
        
        /* HIDE VR BUTTONS */
        .a-enter-vr, .a-enter-ar { display: none !important; }

        .back-nav {
            position: absolute; top: 20px; left: 20px; z-index: 200;
            color: white; text-decoration: none; background: rgba(0,0,0,0.5);
            padding: 10px 18px; border-radius: 30px; font-size: 12px;
            border: 1px solid #5E0F8B;
        }

        #status {
            position: absolute; bottom: 30px; width: 100%; text-align: center;
            color: #D4AF37; font-weight: bold; display: none; z-index: 100;
            text-shadow: 0 0 10px rgba(0,0,0,0.8);
        }
    </style>
</head>
<body>

    <a href="index.html" class="back-nav">üè† MENU</a>
    <div id="status">‚ú® Magic Detected! ‚ú®</div>

    <a-scene 
        mindar-image="imageTargetSrc: ./targets.mind; targetIndex: 2;" 
        vr-mode-ui="enabled: false" 
        device-orientation-permission-ui="enabled: false">
        
        <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

        <a-entity mindar-image-target="targetIndex: 2" id="msg-target">
            
            <a-entity id="text-wrapper" position="0 0 0.1">
                <a-text 
                    id="birthday-text"
                    value="Happy Birthday!" 
                    align="center" 
                    color="#D4AF37" 
                    width="4"
                    font="https://cdn.aframe.io/fonts/Exo2Bold.fnt"
                    animation__bob="property: position; from: 0 0 0.1; to: 0 0.15 0.1; dur: 2000; dir: alternate; loop: true; easing: easeInOutSine"
                    animation__spin="property: rotation; from: 0 0 0; to: 0 360 0; dur: 8000; loop: true; easing: linear">
                </a-text>

                <a-ring color="#5E0F8B" radius-inner="0.4" radius-outer="0.5" 
                        position="0 0 -0.05" opacity="0.5"
                        animation="property: scale; from: 1 1 1; to: 1.2 1.2 1.2; dur: 1000; dir: alternate; loop: true">
                </a-ring>
            </a-entity>

            <a-sphere position="0.5 0.2 0" radius="0.02" color="#FFF" animation="property: position; to: -0.5 -0.2 0.2; dur: 3000; loop: true; dir: alternate"></a-sphere>
            <a-sphere position="-0.4 -0.1 0.1" radius="0.015" color="#D4AF37" animation="property: position; to: 0.4 0.3 -0.1; dur: 4000; loop: true; dir: alternate"></a-sphere>
            <a-sphere position="0 0.4 -0.2" radius="0.01" color="#FFF" animation="property: position; to: 0 -0.4 0.2; dur: 2500; loop: true; dir: alternate"></a-sphere>

        </a-entity>
    </a-scene>

    <script>
        const target = document.querySelector('#msg-target');
        const status = document.querySelector('#status');

        target.addEventListener('targetFound', () => {
            status.style.display = 'block';
        });

        target.addEventListener('targetLost', () => {
            status.style.display = 'none';
        });
    </script>
</body>
</html>